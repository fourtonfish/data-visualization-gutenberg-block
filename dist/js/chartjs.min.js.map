{"version":3,"sources":["chartjs.js"],"names":["ready","fn","document","readyState","addEventListener","window","ftfHelpers","isMobile","a","check","navigator","userAgent","vendor","opera","test","substr","hex","opacity","parseInt","substring","pSBC","p","c0","c1","l","r","g","b","P","f","t","h","i","m","Math","round","this","pSBCr","d","replace","x","n","length","slice","parseFloat","result","pow","toString","undefined","invertColor","bw","indexOf","padZero","str","len","Array","join","chartEl","chartLabels","dataset","type","chartData","sort","JSON","parse","stringify","ftfDataviz","sourceId","data_labels_sorted","data_series_sorted","data_labels","data_series","ignoreNull","forEach","datapoints","indexOuter","removeDatapoint","datapoint","indexInner","renderChart","filter","item","colorSchemeIndex","limit","datavizType","datasets","axis_label_values","dataArray","push","index","label","data","prefix","suffix","colorScheme","colorPalettes","dataRows","fill","columnFilter","console","log","concat","map","selectHtml","backgroundColor","labels","options","axesLabels","scaleLabel","display","labelString","axis_label_title","ticks","beginAtZero","axesValues","logScale","userCallback","value","toLocaleString","isAdmin","maxTicksLimit","scales","xAxes","yAxes","callbacks","tooltipItem","xLabel","chartOptions","tooltips","title","datasetIndex","yLabel","responsive","hoverBorderWidth","hoverBorderColor","borderWidth","selectedColorScheme","Object","keys","color","convertHex","borderColor","width","clearActive","activate","selectedIndex","meta","newChart","Chart","controller","removeHoverStyle","setHoverStyle","getDatasetMeta","activateNext","render","e","key","getElementsByClassName","wpAdmin","activatePrev","charts","from"],"mappings":"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","file":"chartjs.min.js","sourcesContent":["'use strict';\n\nfunction ready( fn ) {\n    if ( document.readyState != 'loading' ){\n        fn();\n    } else {\n        document.addEventListener( 'DOMContentLoaded', fn );\n    }\n}\n\nwindow.ftfHelpers = window.ftfHelpers || {};\n\nftfHelpers.isMobile = function(){\n    var check = false;\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n    return check;\n}\n\nftfHelpers.convertHex = function( hex, opacity ){\n    /* https://gist.github.com/danieliser/b4b24c9f772066bcf0a6 */\n    if (!hex){\n        hex = '#000000';\n    }\n\n    hex = hex.replace( '#','' );\n\n    let r, g, b;\n\n    r = parseInt( hex.substring( 0,2 ), 16 );\n    g = parseInt( hex.substring( 2,4 ), 16 );\n    b = parseInt( hex.substring( 4,6 ), 16 );\n\n    let result = 'rgba(' + r + ',' + g + ',' + b + ',' + opacity / 100 + ')';\n    return result;\n}\n\nftfHelpers.pSBC = function(p,c0,c1,l){\n    let r,g,b,P,f,t,h,i=parseInt,m=Math.round,a=typeof(c1)==\"string\";\n    if(typeof(p)!=\"number\"||p<-1||p>1||typeof(c0)!=\"string\"||(c0[0]!='r'&&c0[0]!='#')||(c1&&!a))return null;\n    if(!this.pSBCr)this.pSBCr=(d)=>{\n        let n=d.length,x={};\n        if(n>9){\n            [r,g,b,a]=d=d.split(\",\"),n=d.length;\n            if(n<3||n>4)return null;\n            x.r=i(r[3]==\"a\"?r.slice(5):r.slice(4)),x.g=i(g),x.b=i(b),x.a=a?parseFloat(a):-1\n        }else{\n            if(n==8||n==6||n<4)return null;\n            if(n<6)d=\"#\"+d[1]+d[1]+d[2]+d[2]+d[3]+d[3]+(n>4?d[4]+d[4]:\"\");\n            d=i(d.slice(1),16);\n            if(n==9||n==5)x.r=d>>24&255,x.g=d>>16&255,x.b=d>>8&255,x.a=m((d&255)/0.255)/1000;\n            else x.r=d>>16,x.g=d>>8&255,x.b=d&255,x.a=-1\n        }return x};\n    h=c0.length>9,h=a?c1.length>9?true:c1==\"c\"?!h:false:h,f=this.pSBCr(c0),P=p<0,t=c1&&c1!=\"c\"?this.pSBCr(c1):P?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},p=P?p*-1:p,P=1-p;\n    if(!f||!t)return null;\n    if(l)r=m(P*f.r+p*t.r),g=m(P*f.g+p*t.g),b=m(P*f.b+p*t.b);\n    else r=m((P*f.r**2+p*t.r**2)**0.5),g=m((P*f.g**2+p*t.g**2)**0.5),b=m((P*f.b**2+p*t.b**2)**0.5);\n    a=f.a,t=t.a,f=a>=0||t>=0,a=f?a<0?t:t<0?a:a*P+t*p:0;\n    if(h)return\"rgb\"+(f?\"a(\":\"(\")+r+\",\"+g+\",\"+b+(f?\",\"+m(a*1000)/1000:\"\")+\")\";\n    else return\"#\"+(4294967296+r*16777216+g*65536+b*256+(f?m(a*255):0)).toString(16).slice(1,f?undefined:-2)\n}\n\nftfHelpers.invertColor = function( hex, bw ) {\n    if ( hex.indexOf( '#' ) === 0 ) {\n        hex = hex.slice( 1 );\n    }\n\n    if ( hex.length === 3 ) {\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n    }\n\n    var r = parseInt( hex.slice( 0, 2 ), 16 ),\n        g = parseInt( hex.slice( 2, 4 ), 16 ),\n        b = parseInt( hex.slice( 4, 6 ), 16 );\n\n    if ( bw ) {\n        return ( r * 0.299 + g * 0.587 + b * 0.114 ) > 186\n            ? '#000000'\n            : '#FFFFFF';\n    }\n\n    r = ( 255 - r ).toString( 16 );\n    g = ( 255 - g ).toString( 16 );\n    b = ( 255 - b ).toString( 16 );\n\n    return '#' + ftfHelpers.padZero( r ) + ftfHelpers.padZero( g ) + ftfHelpers.padZero( b );\n}\n\nftfHelpers.padZero = function( str, len ) {\n    len = len || 2;\n    var zeros = new Array( len ).join( '0' );\n    return ( zeros + str ).slice( -len );\n}\n\nftfHelpers.renderChart = function( chartEl ){\n    if ( !chartEl ){ return false; }\n\n    let colorSchemeIndex = 3;\n    let datavizType = chartEl.dataset.type || 'bar';\n\n    let chartLabels, chartData;\n\n    if ( chartEl.dataset.sort && chartEl.dataset.sort === 'true' ){\n        chartLabels = JSON.parse( JSON.stringify( window.ftfDataviz[parseInt( chartEl.dataset.sourceId )].data_labels_sorted ) );\n        chartData = JSON.parse( JSON.stringify( window.ftfDataviz[parseInt( chartEl.dataset.sourceId )].data_series_sorted ) );\n    } else {\n        chartLabels = JSON.parse( JSON.stringify( window.ftfDataviz[parseInt( chartEl.dataset.sourceId )].data_labels ) );\n        chartData = JSON.parse( JSON.stringify( window.ftfDataviz[parseInt( chartEl.dataset.sourceId )].data_series ) );\n    }\n\n    if ( chartEl.dataset.ignoreNull && chartEl.dataset.ignoreNull === 'true' ){\n\n        chartData.forEach( function( datapoints, indexOuter ){\n            let removeDatapoint = true;\n\n            datapoints.forEach( function( datapoint, indexInner ){\n                if ( chartData[indexOuter][indexInner] && parseInt( chartData[indexOuter][indexInner] ) !== 0 ){\n                    removeDatapoint = false;\n                }\n            } );\n\n            if ( removeDatapoint ){\n                delete chartData[indexOuter];\n                delete chartLabels[indexOuter];\n            }\n        } );\n\n        chartData = chartData.filter( function ( item ){ return item != undefined } );\n        chartLabels = chartLabels.filter( function ( item ){ return item != undefined } );\n    }\n\n\n    if ( chartEl.dataset.sort && chartEl.dataset.sort === 'true' && chartEl.dataset.limit ){\n        chartLabels = chartLabels.slice( 0, chartEl.dataset.limit );\n        chartData = chartData.slice( 0, chartEl.dataset.limit );\n    }\n\n    if ( chartData.length > 3 ){\n        colorSchemeIndex = chartData.length;\n    }\n\n    const dataRows = chartData[0].length;\n    let datasets = [];\n\n    for( let i = 0; i < dataRows; i++ ){\n        let dataArray = [];\n        let label = '';\n\n        chartData.forEach( function( data, index ){\n            label = window.ftfDataviz[parseInt( chartEl.dataset.sourceId )].axis_label_values[i];\n\n            // const label = chartData[i][index];\n            dataArray.push( chartData[index][i] );\n        } );\n\n        let dataset = {\n            label: label,\n            data: dataArray,\n            __custom_meta: {\n                prefix: chartEl.dataset.prefix,\n                suffix: chartEl.dataset.suffix\n            }\n        };\n\n        if ( chartEl.dataset.colorScheme && ftfHelpers.colorPalettes[chartEl.dataset.colorScheme] ){\n            if ( [ 'bar', 'horizontalBar' ].indexOf( datavizType ) !== -1 ){\n                dataset.backgroundColor = ftfHelpers.colorPalettes[chartEl.dataset.colorScheme][dataRows+3][i];\n            } else if ( datavizType === 'line' ){\n                dataset.borderColor = ftfHelpers.colorPalettes[chartEl.dataset.colorScheme][dataRows+3][i];\n                dataset.fill = false;\n            }\n        }\n\n        datasets.push( dataset );\n    }\n\n    if ( chartEl.dataset.columnFilter && chartEl.dataset.columnFilter === 'true' ){\n        console.log( 'datasets', datasets );\n\n        for ( let i = 1; i < datasets.length; i++ ){\n            console.log( 'data map', datasets[i] );\n            let selectHtml = `<label>${datasets[i].label}\n                <select name=\"ftf-dataviz-filter-${ chartEl.dataset.sourceId }\" id=\"ftf-dataviz-filter-${ chartEl.dataset.sourceId }\">\n                  ${\n                    datasets[i].data.map( function( data ){\n                        console.log( 'data map', data );\n                        return `<option value=\"option\">option</option>`;\n                    } )\n                  }\n                </select>\n            </label>`; \n\n            console.log( 'dataset ' + i, datasets[i] );\n            console.log( 'selectHtml', selectHtml );\n\n        }\n    \n        datasets = [datasets[0]];\n    }\n\n    let chartOptions = {\n        type: datavizType,\n        data: {\n            labels: chartLabels,\n            datasets: datasets\n        },\n        options: {}\n    };\n\n    switch ( datavizType ){\n        case 'horizontalBar':\n        case 'bar':\n        case 'line':\n            const axesLabels = [{\n                scaleLabel: {\n                    display: true,\n                    // labelString: chartEl.dataset.axisLabelData\n                    labelString: window.ftfDataviz[parseInt( chartEl.dataset.sourceId )].axis_label_title\n                },\n                ticks: {\n                    beginAtZero: true,\n                    // userCallback: function( value, index, values)  {\n                    //     return value.toLocaleString();\n                    // }\n                }\n            }];\n\n            const axesValues = [{\n                scaleLabel: {\n                    display: true,\n                    labelString: chartEl.dataset.label\n                },\n                type: chartEl.dataset.logScale ? 'logarithmic' : 'linear',\n                ticks: {\n                    beginAtZero: true,\n                    userCallback: function( value, index, values)  {\n                        return chartEl.dataset.prefix + value.toLocaleString() + chartEl.dataset.suffix;\n                    }\n                }\n            }];\n\n            if ( chartEl.dataset.logScale && chartData.length > 4 ){\n                /* Temporary fix for labels overlapping when using logarithmic scale. */\n                // axesValues[0].ticks.minRotation = 30;\n                axesValues[0].ticks.maxTicksLimit = chartData.length;\n            }\n\n            if ( ftfHelpers.isAdmin() ){\n                // axesValues[0].ticks.maxTicksLimit = chartData.length;\n                axesValues[0].ticks.maxTicksLimit = 4;\n            }\n\n            if ( datavizType === 'horizontalBar' ){\n                chartOptions.options.scales = {\n                    xAxes: axesValues,\n                    yAxes: axesLabels\n                };\n\n                chartOptions.options.tooltips = {\n                  callbacks: {\n                    label: function( tooltipItem, data ) {\n                        return data['datasets'][0]['__custom_meta']['prefix'] + tooltipItem.xLabel.toLocaleString() + data['datasets'][0]['__custom_meta']['suffix'];\n                    }\n                  }\n                }\n\n            } else {\n                chartOptions.options.scales = {\n                    xAxes: axesLabels,\n                    yAxes: axesValues\n                };\n\n                chartOptions.options.tooltips = {\n                  callbacks: {\n                    title: function(tooltipItem, data) {\n                        return data.datasets[tooltipItem[0].datasetIndex].label;\n                    },\n                    label: function( tooltipItem, data ) {\n                        return `${data.labels[tooltipItem.index]}: ${data['datasets'][0]['__custom_meta']['prefix']}${tooltipItem.yLabel.toLocaleString()}${data['datasets'][0]['__custom_meta']['suffix']}`;\n                    }\n                  }\n                }\n            }\n\n            chartOptions.options.responsive = true;\n            \n            if ( ftfHelpers.colorPalettes[chartEl.dataset.colorScheme] ){\n                chartOptions.data.datasets.forEach( function( dataset, index ){\n                    dataset.hoverBorderWidth = 4;\n                    dataset.hoverBorderColor = ftfHelpers.pSBC( -0.05, ftfHelpers.invertColor( ftfHelpers.colorPalettes[chartEl.dataset.colorScheme][dataRows+3][index] ) );\n                    dataset.borderWidth = 4;\n                } );\n\n            }\n\n            break;\n        case 'pie':\n        case 'doughnut':\n        case 'polarArea':\n            for( let i = 0; i < dataRows; i++ ){\n                if ( chartOptions.data && chartOptions.data.datasets[i] ){\n                    let selectedColorScheme;\n\n                    if ( ftfHelpers.colorPalettes[chartEl.dataset.colorScheme][chartLabels.length] ){\n                        selectedColorScheme = ftfHelpers.colorPalettes[chartEl.dataset.colorScheme][chartLabels.length];\n                    } else {\n\n                        selectedColorScheme = ftfHelpers.colorPalettes[chartEl.dataset.colorScheme][Object.keys( ftfHelpers.colorPalettes[chartEl.dataset.colorScheme] ).length - 3];\n                    }\n\n                    chartOptions.data.datasets[i].backgroundColor = selectedColorScheme;\n                    chartOptions.data.datasets[i].hoverBorderColor = selectedColorScheme.map( function( color ){\n                        return ftfHelpers.pSBC( -0.05, ftfHelpers.invertColor( color ) );\n                    } );\n\n                    chartOptions.data.datasets[i].hoverBorderWidth = 4;\n                    chartOptions.data.datasets[i].borderWidth = 4;\n                }\n            }\n\n            chartOptions.options.tooltips = {\n              callbacks: {\n                title: function(tooltipItem, data) {\n                    return data['labels'][tooltipItem[0]['index']];\n                },\n                label: function( tooltipItem, data ) {\n                    return data['datasets'][0]['__custom_meta']['prefix'] + parseInt( data['datasets'][0]['data'][tooltipItem['index']] ).toLocaleString() + data['datasets'][0]['__custom_meta']['suffix'];\n                }\n              }\n            }\n\n            break;\n        case 'radar':\n            for( let i = 0; i < dataRows; i++ ){\n                if ( chartOptions.data && chartOptions.data.datasets[i] ){\n                \n\n                    let selectedColorScheme;\n\n                    if ( ftfHelpers.colorPalettes[chartEl.dataset.colorScheme][dataRows] ){\n                        selectedColorScheme = ftfHelpers.colorPalettes[chartEl.dataset.colorScheme][dataRows];\n                    } else {\n                        selectedColorScheme = ftfHelpers.colorPalettes[chartEl.dataset.colorScheme][Object.keys( ftfHelpers.colorPalettes[chartEl.dataset.colorScheme] ).length - 3];\n                    }\n\n                    // chartOptions.data.datasets[i].fill = 'start';\n                    chartOptions.data.datasets[i].backgroundColor = ftfHelpers.convertHex( selectedColorScheme[i], 20 );\n                    chartOptions.data.datasets[i].borderColor = ftfHelpers.convertHex( selectedColorScheme[i], 40 );\n                    chartOptions.data.datasets[i].hoverBorderColor = ftfHelpers.convertHex( ftfHelpers.pSBC( -0.05, ftfHelpers.invertColor( selectedColorScheme[i] ) ), 40 );\n\n                    chartOptions.data.datasets[i].hoverBorderWidth = 4;\n                    chartOptions.data.datasets[i].borderWidth = 4;\n                }\n            }\n\n            chartOptions.options.tooltips = {\n              callbacks: {\n                title: function(tooltipItem, data) {\n                    return data['labels'][tooltipItem[0]['index']];\n                },\n                label: function( tooltipItem, data ) {\n                    return data['datasets'][0]['__custom_meta']['prefix'] + parseInt( data['datasets'][0]['data'][tooltipItem['index']] ).toLocaleString() + data['datasets'][0]['__custom_meta']['suffix'];\n                }\n              }\n            }\n\n            break;\n    }\n\n    // console.log( 'rendering chart...', chartEl, chartOptions );\n\n    console.log( 'chartEl', chartEl );\n\n    if ( ftfHelpers.isMobile() ){\n        chartEl.height = chartEl.width;\n    }\n\n    let newChart = new Chart( chartEl, chartOptions );\n\n    if ( !ftfHelpers.isAdmin() ){\n        /* Chart.js accessibility via https://codepen.io/kurkle/pen/WNrwjMp */\n\n        let selectedIndex = -1;\n        const meta = newChart.getDatasetMeta( 0 );\n\n        function clearActive() {\n            if (selectedIndex > -1) {\n                meta.controller.removeHoverStyle( meta.data[selectedIndex], 0, selectedIndex );\n            }\n        }\n\n        function activate() {\n            meta.controller.setHoverStyle( meta.data[selectedIndex], 0, selectedIndex );\n            newChart.render();\n        }\n\n        function activateNext() {\n            clearActive();\n            selectedIndex = (selectedIndex + 1) % meta.data.length;\n            activate();\n        }\n\n        function activatePrev() {\n            clearActive();\n            selectedIndex = ( selectedIndex || meta.data.length ) -1;\n            activate();\n        }\n\n        chartEl.addEventListener( 'focus', function(){\n            if (selectedIndex === -1) {\n                activateNext();\n            } else {\n                activate();\n            }\n        } );\n\n        chartEl.addEventListener( 'blur', function(){\n            clearActive();\n            newChart.render();\n        } );\n\n        chartEl.addEventListener( 'keydown', function( e ) {\n            if ( e.key === 'ArrowRight' ) {\n                activateNext();\n            } else if ( e.key === 'ArrowLeft' ) {\n                activatePrev();\n            }\n        } );\n    }\n\n}\n\nftfHelpers.isAdmin = function(){\n    const wpAdmin = document.getElementsByClassName( 'wp-admin' );\n    return wpAdmin && wpAdmin.length;\n}\n\nready( function(){\n    let charts = document.getElementsByClassName( 'ftf-dataviz-chart' );\n    Array.from( charts ).forEach( function( chartEl ){\n        ftfHelpers.renderChart( chartEl );\n    } );\n} );\n"]}